{"name":"WMS Simple Check","type":"script","scope":"global","author":"PYXkZMgiOGHqXnQj","img":"icons/svg/daze.svg","command":"// Actor data you can parse and use\nconsole.log(actor);\n\n// Token data you can parse and use\nconsole.log(token);\n\n// Current Die Descending value (d20, d12, d10, etc)\nvar descendingDieType = actor.getFlag(\"wild-magic-surge-5e\", \"die_type\").dieValue;\n\n// Current Incremental Check value (1-10)\nvar incrementalCheckValue = actor.getFlag(\"wild-magic-surge-5e\", \"surge_increment_resource\").value;\n\n// Gets whether the last check was a surge or not.\nvar hasSurged = actor.getFlag(\"wild-magic-surge-5e\", \"hassurged\");\n\nif (hasSurged) {\n  console.log(\"Surged\");\n} else {\n  console.log(\"Not Surged\");\n}","flags":{"core":{"sourceId":"Macro.j1rc1R9pRUwxnP21"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.2","coreVersion":"10.283","createdTime":1662906152294,"modifiedTime":1662917338022,"lastModifiedBy":"PYXkZMgiOGHqXnQj"},"ownership":{"default":0,"PYXkZMgiOGHqXnQj":3},"folder":null,"sort":0,"_id":"PDuS6YvnH5RDBjW2"}
{"name":"WMS Animate","type":"script","scope":"global","author":"PYXkZMgiOGHqXnQj","img":"icons/svg/daze.svg","command":"var hasSurged = actor.getFlag(\"wild-magic-surge-5e\", \"hassurged\");\nconsole.log(hasSurged);\nif (hasSurged) {\nnew Sequence(\"WMSTRUE\")\n    .effect()\n    .file(\"modules/JB2A_DnD5e/Library/Generic/Nature/SwirlingLeavesComplete01_02_Regular_Green_400x400.webm\")\n    .duration(10000)\n    .fadeIn(500)\n    .fadeOut(1000)\n    .atLocation(token.id).play();\n} else {\n  new Sequence(\"WMSTRUE\")\n    .effect()\n    .file(\"modules/JB2A_DnD5e/Library/Generic/Particles/ParticlesOutward02_03_Regular_GreenYellow_400x400.webm\")\n    .duration(10000)\n    .fadeIn(500)\n    .fadeOut(1000)\n    .atLocation(token.id).play();\n}","flags":{"core":{"sourceId":"Macro.7ZqYoUu4ycyN2Pjm"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.2","coreVersion":"10.283","createdTime":1662907241373,"modifiedTime":1662912362205,"lastModifiedBy":"PYXkZMgiOGHqXnQj"},"folder":null,"sort":0,"ownership":{"default":0,"PYXkZMgiOGHqXnQj":3},"_id":"OeYqeGiThSKvFWGA"}
{"name":"WMS Custom Message","type":"script","scope":"global","author":"PYXkZMgiOGHqXnQj","img":"icons/svg/daze.svg","command":"function printMessage(message){\n        let chatData = {\n                user : game.user.id,\n                content : message,\n                blind: true,\n                whisper : game.users.filter(u => u.isGM).map(u => u.id)\n        };\n\n        ChatMessage.create(chatData,{});        \n}\n\nvar hasSurged = actor.getFlag(\"wild-magic-surge-5e\", \"hassurged\");\n\nif (hasSurged) {\nprintMessage('<p style=\"color:red;\">Wild magic has been triggered.</p>');\n} else {\n  printMessage('<p style=\"color:green;\">Wild magic has not been triggered.</p>');\n}","flags":{"core":{"sourceId":"Macro.C3lSEFqxIcneC2An"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.2","coreVersion":"10.283","createdTime":1662907788145,"modifiedTime":1662912364133,"lastModifiedBy":"PYXkZMgiOGHqXnQj"},"folder":null,"sort":0,"ownership":{"default":0,"PYXkZMgiOGHqXnQj":3},"_id":"PF0HjJtTwP9zPPAy"}
{"name":"WMS Dialog","type":"script","scope":"global","author":"PYXkZMgiOGHqXnQj","img":"icons/svg/daze.svg","command":"var hasSurged = actor.getFlag(\"wild-magic-surge-5e\", \"hassurged\");\n\nif (hasSurged) {\n  new Dialog({\n    title: \"Wild Magic Surge!\",\n    content: `A surge just happened on ${actor.name}!`,\n    buttons: { close: { label: \"Close\" } },\n  }).render(true);\n}","flags":{"core":{"sourceId":"Macro.GRI9TktAsD2WeOmt"}},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.2","coreVersion":"10.283","createdTime":1662912102288,"modifiedTime":1662912366020,"lastModifiedBy":"PYXkZMgiOGHqXnQj"},"folder":null,"sort":0,"ownership":{"default":0,"PYXkZMgiOGHqXnQj":3},"_id":"iS6yDWRtZFTvKNqk"}
